<div class="seach-bar">
    <input type="search" class="form-control seach-bar-text" *ngIf="isShowSearch" (keyup)="handleSearch($event)">
    <button class="btn float-end action-icon border search-icon" title="search" (click)="isShowSearch = !isShowSearch">
        <i class="bi bi-search"></i>
    </button>
</div>

<div class="container" *ngIf="posts.length > 0">
    <div class="col-5 mx-auto">
        <div *ngFor="let post of posts; index as i">
            <div class="border p-2 rounded my-2">
                <div class="post-header">
                    <div class="post-title">
                        {{  post.title }}
                    </div>
                    <div class="report-icon">
                        <i class="bi bi-flag action-icon" title="report"></i>
                    </div>
                    <div class="clearfix"></div>
                    <div class="post-description">
                        {{  post.description }}
                    </div>
                </div>
                <div *ngIf="post.fileDataType == 'image/png'">
                    <img [src]="publicFolert+post.files" alt="..." class="post-image">
                </div>
                <div *ngIf="post.fileDataType == 'video/mp4'">
                    <video controls class="post-image">
                        <source [src]="publicFolert+post.files">
                    </video>
                </div>
                <div class="post-action">
                    <div class="post-like" (click)="addLike(post._id, i)">
                        <i class="bi bi-hand-thumbs-up action-icon btn" *ngIf="!post.isLiked" title="like"></i>
                        <i class="bi bi-hand-thumbs-up-fill action-icon btn" *ngIf="post.isLiked" title="remove like"></i>
                        <!-- <div class="action-count"> -->
                        {{ post.like }}
                        <!-- </div> -->
                    </div>
                    <div class="post-dislike" (click)="addDisLike(post._id, i)">
                        <i class="bi bi-hand-thumbs-down action-icon btn" *ngIf="!post.isDisLiked" title="dislike"></i>
                        <i class="bi bi-hand-thumbs-down-fill action-icon btn" *ngIf="post.isDisLiked" title="remove dislike"></i>
                        {{ post.dislike }}
                    </div>
                    <div class="post-comments">
                        <a [routerLink]="'/post/'+post._id">
                            <i class="bi bi-chat-right-text action-icon btn" title="comments"></i>
                        </a>
                        {{ post.comments }}
                    </div>
                    <div class="post-view">
                        <i class="bi bi-eye fs-6 btn" title="view"></i>
                        {{ post.view }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="posts.length == 0" class="fs-2 text-center p-5 text-secondary">
    No such Record found
</div>
<a class="add-post-btn btn btn-info" routerLink="/post/add">
    <div>
        <i class="bi bi-plus"></i>
    </div>
    <div>
        <span class="text-option">Add post</span>
    </div>
</a>
